<div ng-include src="'views/header.html'"></div>
<div class="page-header">
	<h3>ข้อมูลบุคลากร</h3>
</div>

<div class="row form-group">
	<div class="col-lg-12 text-center">
		<form name="search_form" class="form-inline">
		  	<div ng-show="condition.DisplayType == 'monthly'">
		  		<div class="form-group">
				    <label for="exampleInputName2">&nbsp; การแสดงข้อมูล : </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.DisplayType" ng-change="goSearch()">
						<option value="">กรุณาเลือก</option>
						<option value="monthly">รายเดือน</option>
						<option value="quarter">รายไตรมาส</option>
						<option value="annually">รายปี</option>
					</select>
			  	</div>
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; เดือน : </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.MonthFrom" ng-options="month.monthValue as month.monthText for month in MonthList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>
		<!--		<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ปี : </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.YearFrom" ng-options="year.yearText as year.yearValue for year in YearList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>-->
			  	<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ถึง </label>
			  	</div>
			  	<div class="form-group">
				    <label for="exampleInputName2">&nbsp; เดือน : </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.MonthTo" ng-options="month.monthValue as month.monthText for month in MonthList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ปี : </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.YearTo" ng-options="year.yearText as year.yearValue for year in YearList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>
			  	<button class="btn btn-primary" ng-click="goSearch()"><span class="glyphicon glyphicon-search"></span> ค้นหา</button>
			</div>
			<div ng-show="condition.DisplayType == 'quarter'">
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; การแสดงข้อมูล : </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.DisplayType" ng-change="goSearch()">
						<option value="">กรุณาเลือก</option>
						<option value="monthly">รายเดือน</option>
						<option value="quarter">รายไตรมาส</option>
						<option value="annually">รายปี</option>
					</select>
			  	</div>
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ไตรมาสที่: </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.QuarterFrom" required="required">
						<option value="">กรุณาเลือก..</option>
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
					</select>
			  	</div>
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ปีงบประมาณ: </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.YearFrom" ng-options="year.yearText as year.yearValue for year in YearList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>
			  	<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ถึง </label>
			  	</div>
			  	<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ไตรมาสที่: </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.QuarterTo" required="required">
						<option value="">กรุณาเลือก..</option>
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
					</select>
			  	</div>
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ปีงบประมาณ: </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.YearTo" ng-options="year.yearText as year.yearValue for year in YearList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>
			  	<button class="btn btn-primary" ng-click="goSearch()"><span class="glyphicon glyphicon-search"></span> ค้นหา</button>
			</div>
			<div ng-show="condition.DisplayType == 'annually'">
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; การแสดงข้อมูล : </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.DisplayType" ng-change="goSearch()">
						<option value="">กรุณาเลือก</option>
						<option value="monthly">รายเดือน</option>
						<option value="quarter">รายไตรมาส</option>
						<option value="annually">รายปี</option>
					</select>
			  	</div>
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ปีงบประมาณ: </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.YearFrom" ng-options="year.yearText as year.yearValue for year in YearList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>
			  	<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ถึง </label>
			  	</div>
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; ปีงบประมาณ: </label>
				    &nbsp; <select name="Year" class="form-control" ng-model="condition.YearTo" ng-options="year.yearText as year.yearValue for year in YearList" required="required">
						<option value="">กรุณาเลือก..</option>
					</select>
			  	</div>
			  	<button class="btn btn-primary" ng-click="goSearch()"><span class="glyphicon glyphicon-search"></span> ค้นหา</button>
			</div>
			
		</form>
	</div>
</div>

<div class="col-lg-12 table-responsive" ng-show="ViewType == 'MAIN' && condition.DisplayType == 'monthly'">
	<div>
		<h4>จำนวนพนักงานและพนักงานสัญญาจ้าง</h4>
	</div>
	<table class="table table-bordered table-striped">
		
		<thead style="background-color: #BD1212; color: #FFF;">
			<tr>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">รายการ</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">เดือน</th>
				<th colspan="3" style="text-align: center; vertical-align: middle;">{{CurYear}}</th>
				<th colspan="3" style="text-align: center; vertical-align: middle;">{{LastYear}}</th>
				<th colspan="2" style="text-align: center;">ผลต่าง</th>
				
			</tr>
			<tr>
				<th style="text-align: center;">พนักงาน</th>
				<th style="text-align: center;">สัญญาจ้าง</th>
				<th style="text-align: center;">รวม</th>
				<th style="text-align: center;">พนักงาน</th>
				<th style="text-align: center;">สัญญาจ้าง</th>
				<th style="text-align: center;">รวม</th>
			
				<th style="text-align: center;">จำนวนรวม</th>
				<th style="text-align: center;">% เพิ่ม / ลด</th>
			</tr>
		</thead>
		<tbody ng-repeat="data in List">
			<!--<tr style="background-color: #B6CCFF; padding: 5px;">
				<td colspan="7">{{getRegionName(data.region_id)}}</td>
			</tr>-->
			<tr>
				<td>{{data.Position}}</td>
				<td>{{data.Month}}</td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			<tr ng-repeat="row in data.CurrentEmployee">
				<td>{{row.department}}</td>
				<td></td>
				<td style="text-align: center;">{{numberFormat(row.summary)}}</td>
				<td style="text-align: center;">{{numberFormat(row.director)}}</td>
				<td style="text-align: center;">{{numberFormat(row.summary+row.director)}}</td>
				<td style="text-align: center;">{{numberFormat(data.BeforeEmployee[$index].summary)}}</td>
				<td style="text-align: center;">{{numberFormat(data.BeforeEmployee[$index].director)}}</td>
				<td style="text-align: center;">{{numberFormat(data.BeforeEmployee[$index].summary+data.BeforeEmployee[$index].director)}}</td>
				<td style="text-align: center;">{{numberFormat(row.summary+row.director+data.BeforeEmployee[$index].summary+data.BeforeEmployee[$index].director)}}</td>
				<td style="text-align: center;">{{numberFormatComma(row.percent)}}</td>
			</tr>
				<tr>
				<td></td>
				<td>รวม</td>
				<td style="text-align: center;">{{numberFormat(data.SummaryCurrentsum)}}</td>
				<td style="text-align: center;">{{numberFormat(data.SummaryCurrentdirector)}}</td>
				<td style="text-align: center;">{{numberFormat(data.SummaryCurrent)}}</td>
				<td style="text-align: center;">{{numberFormat(data.SummaryBeforesum)}}</td>
				<td style="text-align: center;">{{numberFormat(data.SummaryBeforedirector)}}</td>
				<td style="text-align: center;">{{numberFormat(data.SummaryBefore)}}</td>
				<td style="text-align: center;">{{numberFormat(data.SummaryPercentage)}}</td>
				<td style="text-align: center;">{{numberFormatComma(data.SummarysumPercentage)}}</td>
			</tr>
		</tbody>
	</table>
	<div>
		<h4>ความเคลื่อนไหวของบุคลากร</h4>
	</div>
	<table class="table table-bordered table-striped">
		
		<thead style="background-color: #BD1212; color: #FFF;">
			<tr>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">รายการ</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">เดือน</th>
				<th colspan="1" style="text-align: center; vertical-align: middle;">{{CurYear}}</th>
				<th colspan="1" style="text-align: center; vertical-align: middle;">{{LastYear}}</th>
				<th colspan="2" style="text-align: center;">ผลต่าง</th>
				
			</tr>
			<tr>
				<th style="text-align: center;">พนักงาน</th>
				
				<th style="text-align: center;">พนักงาน</th>
				
			
				<th style="text-align: center;">จำนวนรวม</th>
				<th style="text-align: center;">% เพิ่ม / ลด</th>
			</tr>
		</thead>
		<tbody ng-repeat="data in SummaryData.current">
		</tr>
			<tr>
				<td>{{data.detail}}</td>
				<td>{{data.Monthname}}</td>
				<td style="text-align: center;">{{numberFormat(data.summary)}}</td>
				<td style="text-align: center;">{{numberFormat(SummaryData.before[$index].summary)}}</td>
				<td style="text-align: center;">{{numberFormat(data.summary+SummaryData.before[$index].summary)}}</td>
				<td style="text-align: center;">{{numberFormatComma(data.percent)}}</td>
			</tr>
			
		</tbody>
	</table>
</div>
<div class="col-lg-12 table-responsive" ng-show="ViewType == 'MAIN' && condition.DisplayType == 'quarter'">
	<table class="table table-bordered table-striped">
		
		<thead style="background-color: #BD1212; color: #FFF;">
			<tr>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">ภูมิภาค</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">ไตรมาส</th>
			<!--
				<th colspan="2" style="text-align: center;">2560</th>
				<th colspan="2" style="text-align: center;">2561</th>
			-->
				<th colspan="2" style="text-align: center; vertical-align: middle;">{{CurYear}}</th>
				<th colspan="2" style="text-align: center; vertical-align: middle;">{{LastYear}}</th>
				<th colspan="4" style="text-align: center;">ผลต่าง</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">วันที่บันทึกข้อมูล</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">วันที่อนุมัติ</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">สถานะ</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">รายละเอียด</th>
			</tr>
			<tr>
				<th style="text-align: center;">โคที่รับบริการ (ตัว)</th>
				<th style="text-align: center;">รายได้ค่าบริการ (บาท)</th>
				<th style="text-align: center;">โคที่รับบริการ (ตัว)</th>
				<th style="text-align: center;">รายได้ค่าบริการ (บาท)</th>
				<th style="text-align: center;">โคที่รับบริการ (ตัว)</th>
				<th style="text-align: center;">% เพิ่ม / ลด</th>
				<th style="text-align: center;">รายได้ค่าบริการ (บาท)</th>
				<th style="text-align: center;">% เพิ่ม / ลด</th>
			</tr>
		</thead>
		<tbody >
			<!--<tr style="background-color: #B6CCFF; padding: 5px;">
				<td colspan="7">{{getRegionName(data.region_id)}}</td>
			</tr>-->
			
		</tbody>
	</table>
</div>
<div class="col-lg-12 table-responsive" ng-show="ViewType == 'MAIN' && condition.DisplayType == 'annually'">
	<table class="table table-bordered table-striped">
		
		<thead style="background-color: #BD1212; color: #FFF;">
			<tr>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">ภูมิภาค</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">ปี</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">โคที่รับบริการ (ตัว)</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">รายได้ค่าบริการ (บาท)</th>
				<th colspan="4" style="text-align: center;">ผลต่าง</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">วันที่บันทึกข้อมูล</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">วันที่อนุมัติ</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">สถานะ</th>
				<th rowspan="2" style="text-align: center; vertical-align: middle;">รายละเอียด</th>
			</tr>
			<tr>
				<th style="text-align: center;">โคที่รับบริการ (ตัว)</th>
				<th style="text-align: center;">% เพิ่ม / ลด</th>
				<th style="text-align: center;">รายได้ค่าบริการ (บาท)</th>
				<th style="text-align: center;">% เพิ่ม / ลด</th>
			</tr>
		</thead>
		<tbody >
			<!--<tr style="background-color: #B6CCFF; padding: 5px;">
				<td colspan="7">{{getRegionName(data.region_id)}}</td>
			</tr>-->
			
		</tbody>
	</table>
</div>




<div class="page-header">
&nbsp;
</div>
<style type="text/css">
	a{
		color: #FFF;
	}
</style>