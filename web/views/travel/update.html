<div ng-include src="'views/header.html'"></div>
<div class="page-header">
	<h3>ข้อมูลกิจการโคนม  >  ข้อมูลการท่องเที่ยว</h3>
</div>
<div class="col-lg-10 col-lg-offset-1" ng-form="form_data">
	<div class="row form-group">
		<!--<div class="field-label col-lg-1 col-md-1 col-sm-12 col-xs-12">
			ชื่อสหกรณ์
		</div>
		<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
			<select class="form-control" ng-model="Sperm.cooperative_id" ng-options="data.id as data.cooperative_name for data in Cooperative" required="required">
				<option value="">กรุณาเลือก..</option>
			</select>
		</div>-->
		<div class="field-label col-lg-1 col-md-1 col-sm-12 col-xs-12">
			วัน
		</div>
		<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
			<select name="Year" class="form-control" ng-model="Sperm.days" ng-options="day.dayValue as day.dayText for day in DayList" required="required">
					<option value="">กรุณาเลือก..</option>
				</select>
		</div>
		<div class="field-label col-lg-1 col-md-1 col-sm-12 col-xs-12">
			เดือน
		</div>
		<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
			<select name="Year" class="form-control" ng-model="Sperm.months" ng-options="month.monthValue as month.monthText for month in MonthList" required="required">
					<option value="">กรุณาเลือก..</option>
				</select>
		</div>
		<div class="field-label col-lg-1 col-md-1 col-sm-12 col-xs-12">
			ปี
		</div>
		<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
			<select name="Year" class="form-control" ng-model="Sperm.years" ng-options="year.yearText as year.yearValue for year in YearList" required="required">
					<option value="">กรุณาเลือก..</option>
				</select>
		</div>
		<div class="field-label col-lg-1 col-md-1 col-sm-12 col-xs-12">
			<button class="btn btn-info" ng-click="goSearch(Sperm)" ng-disabled="!form_data.$valid">
				<span class="glyphicon glyphicon-search"></span> 
				ค้นหา
			</button>
		</div>
	</div>
	<hr>
	<div ng-show="Search || SpermDetailList.length > 0">
		<div class="row form-group">
			<label class="col-lg-12 form-control-static">
				วัน : {{Sperm.days}}
			</label>
			<label class="col-lg-12 form-control-static">
				 เดือน : {{MonthName}}
			</label>
			<label class="col-lg-12 form-control-static">
				ปี : {{YearName}}
			</label>
		</div>
		<div class="row form-group">
			<div class="col-lg-12">
				<button class="btn btn-danger  pull-right" ng-click="addSpermDetail()" ><!--ng-disabled="!form_data.$valid"-->
				<span class="glyphicon glyphicon-plus"></span> 
				เพิม
			</button>
			</div>
		</div>
		<div>
			<fieldset style="border: 1px solid #999; padding: 10px; margin-top: 10px;" ng-repeat="SpermDetail in SpermDetailList">
			<div ng-form="sub_form_data">
				<div class="row form-group">
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						รายการ
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<select class="form-control" ng-model="SpermDetail.travel_type_id" ng-options="data.id as data.goal_name for data in MasterGoalList" ><!--ng-change="loadDairyFarming('CHILD', SpermDetail.dairy_farming_id)" -->
							<option value="">กรุณาเลือก..</option>
						</select>
					</div>
				</div>
				<div class="row form-group" ng-init="parentIndex = $index">
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						หน่วยงาน
					</div>
					<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.organize">
					</div>
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						วันที่
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<p class="input-group">
							<input type="text" class="form-control" ng-model="SpermDetail.travel_date" uib-datepicker-popup="yyyy-MM-dd" is-open="SpermDetail.open_date">
							<span class="input-group-btn">
				            	<button type="button" class="btn btn-default" ng-click="openDateObj($index)"><i class="glyphicon glyphicon-calendar"></i></button>
				          </span>
				        </p>
					</div>
					<div class="col-lg-4 col-md-4">
						<button class="btn btn-danger pull-right" ng-click="removeDetail(SpermDetail.id, parentIndex)">
							<span class="glyphicon glyphicon-trash"></span> 
							
						</button>
					</div>
				</div>
				<div class="row form-group">
					<div class="col-lg-12">
						<b>จำนวนผู้เข้าชมที่ต้องจ่าย</b>
					</div>
				</div>
				<div class="row form-group">
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						ผู้ใหญ่
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.adult_pay">
					</div>
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						เด็ก
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.child_pay">
					</div>
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						นักศึกษา
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.student_pay">
					</div>
				</div>
				<div class="row form-group">
					<div class="col-lg-12">
						<b>ราคาต่อหน่วย</b>
					</div>
				</div>
				<div class="row form-group">
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						ผู้ใหญ่
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.adult_price">
					</div>
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						เด็ก
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.child_price">
					</div>
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						นักศึกษา
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.student_price">
					</div>
				</div>
				<div class="row form-group">
					<div class="col-lg-12">
						<b>จำนวนผู้เข้าชมที่ยกเว้น</b>
					</div>
				</div>
				<div class="row form-group">
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						ผู้ใหญ่
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.adult_except">
					</div>
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						เด็ก
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.child_except">
					</div>
					<div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
						นักศึกษา
					</div>
					<div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
						<input type="text" class="form-control" ng-model="SpermDetail.student_except">
					</div>
				</div>
			</div>
			<br><br>
			</fieldset>
		</div>
	</div>
	<hr>
	<div class="row form-group">
		<div class="col-lg-12 text-center">
			<button class="btn btn-primary" ng-click="save(Sperm, SpermDetailList)" ng-disabled="!form_data.$valid">
				<span class="glyphicon glyphicon-floppy-save"></span> 
				บันทึก
			</button>
			<button class="btn btn-default" ng-click="cancelUpdate()">
				<span class="glyphicon glyphicon-arrow-left"></span> 
				กลับหน้าหลัก
			</button>
		</div>
	</div>
	
</div>
